{"ast":null,"code":"import _asyncToGenerator from\"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\jobStuff\\\\hoichistakes\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";/* eslint-disable no-unused-vars */import{useState,useEffect}from\"react\";import{GeneralDepositInfo}from\"../GeneralDepositInfo\";import{GeneralInfo}from\"../GeneralInfo\";import{TotalLockedSection}from\"../TotalLockedSection\";import{useDispatch,useSelector}from\"react-redux\";import{getTotalLockedBalance2,getUserBalance,getUserDepositedBalance2,getStakingList}from\"../../../../Utils/walletInteract\";import{SET_REWARD,SET_TOTAL_LOCK,SET_TOTAL_DEPOSITED,SET_STAKING_LIST}from\"../../../../redux/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var V2StakingSection=function V2StakingSection(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isDepositSection=_useState2[0],setIsDepositSection=_useState2[1];var userReward=useSelector(function(state){return state.userReward;});var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),userBalance=_useState4[0],setUserBalance=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),userDepositedBalance=_useState6[0],setUserDepositedBalance=_useState6[1];////\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),sheebDepositAmount=_useState8[0],setSheebDepositAmount=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),currentUserReward=_useState10[0],setCurrentUserReward=_useState10[1];var currentAddress=useSelector(function(state){return state.address;});var dispatch=useDispatch();var loadContractData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _balance,_totalLockedBalance,_yield$getStakingList,_yield$getStakingList2,_stakingList,_userReward,_depositedAmount;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUserBalance(currentAddress);case 2:_balance=_context.sent;setUserBalance(_balance);// const _userDepositedBalance = await getUserDepositedBalance2(currentAddress);\n// setUserDepositedBalance(_userDepositedBalance);\n// dispatch({ type: SET_TOTAL_DEPOSITED, payload: _userDepositedBalance });\n_context.next=6;return getTotalLockedBalance2();case 6:_totalLockedBalance=_context.sent;console.log(\"total locked\",_totalLockedBalance);dispatch({type:SET_TOTAL_LOCK,payload:_totalLockedBalance});_context.next=11;return getStakingList(currentAddress);case 11:_yield$getStakingList=_context.sent;_yield$getStakingList2=_slicedToArray(_yield$getStakingList,3);_stakingList=_yield$getStakingList2[0];_userReward=_yield$getStakingList2[1];_depositedAmount=_yield$getStakingList2[2];console.log(\"staking list ------\",_stakingList);dispatch({type:SET_STAKING_LIST,payload:_stakingList});console.log(\"_userReward---\",_userReward);// const _userReward = await getReward2(currentAddress);\nsetCurrentUserReward(_userReward);dispatch({type:SET_REWARD,payload:_userReward});setUserDepositedBalance(_depositedAmount);dispatch({type:SET_TOTAL_DEPOSITED,payload:_depositedAmount});case 23:case\"end\":return _context.stop();}}},_callee);}));return function loadContractData(){return _ref.apply(this,arguments);};}();useEffect(function(){if(currentAddress!==\"\"){loadContractData();console.log(\"hi, \".concat(currentAddress));console.log(\"hi, \".concat(userBalance));console.log(userDepositedBalance);}},[currentAddress]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full lg:w-3/5 mb-10 lg:mb-20 flex flex-col lg:flex-row items-center justify-center gap-5 h-full w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 w-full h-5/6 flex flex-col gap-5\",children:[/*#__PURE__*/_jsx(GeneralInfo,{isV2Staking:true,isDepositSection:isDepositSection,toggleDepositSection:function toggleDepositSection(e){return setIsDepositSection(e);}}),/*#__PURE__*/_jsx(GeneralDepositInfo,{})]}),/*#__PURE__*/_jsx(TotalLockedSection,{})]});};","map":{"version":3,"names":["useState","useEffect","GeneralDepositInfo","GeneralInfo","TotalLockedSection","useDispatch","useSelector","getTotalLockedBalance2","getUserBalance","getUserDepositedBalance2","getStakingList","SET_REWARD","SET_TOTAL_LOCK","SET_TOTAL_DEPOSITED","SET_STAKING_LIST","V2StakingSection","isDepositSection","setIsDepositSection","userReward","state","userBalance","setUserBalance","userDepositedBalance","setUserDepositedBalance","sheebDepositAmount","setSheebDepositAmount","currentUserReward","setCurrentUserReward","currentAddress","address","dispatch","loadContractData","_balance","_totalLockedBalance","console","log","type","payload","_stakingList","_userReward","_depositedAmount","e"],"sources":["D:/jobStuff/hoichistakes/src/components/Molecules/staking/StakingSection/v2StakingSection.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport { useState, useEffect } from \"react\";\r\nimport { GeneralDepositInfo } from \"../GeneralDepositInfo\";\r\nimport { GeneralInfo } from \"../GeneralInfo\";\r\nimport { TotalLockedSection } from \"../TotalLockedSection\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getTotalLockedBalance2,\r\n  getUserBalance,\r\n  getUserDepositedBalance2,\r\n  getStakingList,\r\n} from \"../../../../Utils/walletInteract\";\r\nimport {\r\n  SET_REWARD,\r\n  SET_TOTAL_LOCK,\r\n  SET_TOTAL_DEPOSITED,\r\n  SET_STAKING_LIST,\r\n} from \"../../../../redux/actions\";\r\nexport const V2StakingSection = () => {\r\n  const [isDepositSection, setIsDepositSection] = useState(true);\r\n  const userReward = useSelector((state) => state.userReward);\r\n  const [userBalance, setUserBalance] = useState(0);\r\n  const [userDepositedBalance, setUserDepositedBalance] = useState(0);\r\n  ////\r\n  const [sheebDepositAmount, setSheebDepositAmount] = useState(0);\r\n  const [currentUserReward, setCurrentUserReward] = useState(0);\r\n  const currentAddress = useSelector((state) => state.address);\r\n  const dispatch = useDispatch();\r\n\r\n  const loadContractData = async () => {\r\n    const _balance = await getUserBalance(currentAddress);\r\n    setUserBalance(_balance);\r\n    // const _userDepositedBalance = await getUserDepositedBalance2(currentAddress);\r\n    // setUserDepositedBalance(_userDepositedBalance);\r\n    // dispatch({ type: SET_TOTAL_DEPOSITED, payload: _userDepositedBalance });\r\n    const _totalLockedBalance = await getTotalLockedBalance2();\r\n    console.log(\"total locked\", _totalLockedBalance);\r\n    dispatch({ type: SET_TOTAL_LOCK, payload: _totalLockedBalance });\r\n    const [_stakingList, _userReward, _depositedAmount] = await getStakingList(\r\n      currentAddress\r\n    );\r\n    console.log(\"staking list ------\", _stakingList);\r\n    dispatch({ type: SET_STAKING_LIST, payload: _stakingList });\r\n    console.log(\"_userReward---\", _userReward);\r\n    // const _userReward = await getReward2(currentAddress);\r\n    setCurrentUserReward(_userReward);\r\n    dispatch({ type: SET_REWARD, payload: _userReward });\r\n    setUserDepositedBalance(_depositedAmount);\r\n    dispatch({ type: SET_TOTAL_DEPOSITED, payload: _depositedAmount });\r\n  };\r\n  useEffect(() => {\r\n    if (currentAddress !== \"\") {\r\n      loadContractData();\r\n      console.log(`hi, ${currentAddress}`);\r\n      console.log(`hi, ${userBalance}`);\r\n      console.log(userDepositedBalance);\r\n    }\r\n  }, [currentAddress]);\r\n\r\n  return (\r\n    <div className=\"w-full lg:w-3/5 mb-10 lg:mb-20 flex flex-col lg:flex-row items-center justify-center gap-5 h-full w-full\">\r\n      <div className=\"flex-1 w-full h-5/6 flex flex-col gap-5\">\r\n        <GeneralInfo\r\n          isV2Staking={true}\r\n          isDepositSection={isDepositSection}\r\n          toggleDepositSection={(e) => setIsDepositSection(e)}\r\n        />\r\n        <GeneralDepositInfo />\r\n      </div>\r\n      <TotalLockedSection />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}