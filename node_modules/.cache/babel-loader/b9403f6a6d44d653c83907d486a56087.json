{"ast":null,"code":"import _asyncToGenerator from\"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\jobStuff\\\\hoichistakes\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";/* eslint-disable no-unused-vars */import{useState,useEffect}from\"react\";import{GeneralDepositInfo}from\"../GeneralDepositInfo\";import{GeneralInfo}from\"../GeneralInfo\";import{TotalLockedSection}from\"../TotalLockedSection\";import{useDispatch,useSelector}from\"react-redux\";import{ethers}from\"ethers\";import{approve,getReward,getTotalLockedBalance,getUserBalance,getUserDepositedBalance,isApproved,stake,withdraw,harvest}from\"../../../../Utils/walletInteract\";import{SET_REWARD,SET_TOTAL_LOCK,SET_TOTAL_DEPOSITED}from\"../../../../redux/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var StakingSection=function StakingSection(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isDepositSection=_useState2[0],setIsDepositSection=_useState2[1];var userReward=useSelector(function(state){return state.userReward;});var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),userBalance=_useState4[0],setUserBalance=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),userDepositedBalance=_useState6[0],setUserDepositedBalance=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),sheebDepositAmount=_useState8[0],setSheebDepositAmount=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),currentUserReward=_useState10[0],setCurrentUserReward=_useState10[1];var currentAddress=useSelector(function(state){return state.address;});var dispatch=useDispatch();var loadContractData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _balance,_userDepositedBalance,_totalLockedBalance,_userReward;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUserBalance(currentAddress);case 2:_balance=_context.sent;setUserBalance(_balance);_context.next=6;return getUserDepositedBalance(currentAddress);case 6:_userDepositedBalance=_context.sent;setUserDepositedBalance(_userDepositedBalance);dispatch({type:SET_TOTAL_DEPOSITED,payload:_userDepositedBalance});_context.next=11;return getTotalLockedBalance();case 11:_totalLockedBalance=_context.sent;dispatch({type:SET_TOTAL_LOCK,payload:_totalLockedBalance});_context.next=15;return getReward(currentAddress);case 15:_userReward=_context.sent;setCurrentUserReward(_userReward);dispatch({type:SET_REWARD,payload:_userReward});case 18:case\"end\":return _context.stop();}}},_callee);}));return function loadContractData(){return _ref.apply(this,arguments);};}();useEffect(function(){if(currentAddress!==\"\"){loadContractData();console.log(\"hi, \".concat(currentAddress));console.log(\"hi, \".concat(userBalance));console.log(userDepositedBalance);}},[currentAddress]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full lg:w-3/5 mb-10 lg:mb-20 flex flex-col lg:flex-row items-center justify-center gap-5 h-full w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 w-full h-5/6 flex flex-col gap-5\",children:[/*#__PURE__*/_jsx(GeneralInfo,{isDepositSection:isDepositSection,toggleDepositSection:function toggleDepositSection(e){return setIsDepositSection(e);}}),/*#__PURE__*/_jsx(GeneralDepositInfo,{})]}),/*#__PURE__*/_jsx(TotalLockedSection,{})]});};","map":{"version":3,"names":["useState","useEffect","GeneralDepositInfo","GeneralInfo","TotalLockedSection","useDispatch","useSelector","ethers","approve","getReward","getTotalLockedBalance","getUserBalance","getUserDepositedBalance","isApproved","stake","withdraw","harvest","SET_REWARD","SET_TOTAL_LOCK","SET_TOTAL_DEPOSITED","StakingSection","isDepositSection","setIsDepositSection","userReward","state","userBalance","setUserBalance","userDepositedBalance","setUserDepositedBalance","sheebDepositAmount","setSheebDepositAmount","currentUserReward","setCurrentUserReward","currentAddress","address","dispatch","loadContractData","_balance","_userDepositedBalance","type","payload","_totalLockedBalance","_userReward","console","log","e"],"sources":["D:/jobStuff/hoichistakes/src/components/Molecules/staking/StakingSection/StakingSection.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport { useState, useEffect } from \"react\";\r\nimport { GeneralDepositInfo } from \"../GeneralDepositInfo\";\r\nimport { GeneralInfo } from \"../GeneralInfo\";\r\nimport { TotalLockedSection } from \"../TotalLockedSection\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ethers } from \"ethers\";\r\nimport {\r\n  approve,\r\n  getReward,\r\n  getTotalLockedBalance,\r\n  getUserBalance,\r\n  getUserDepositedBalance,\r\n  isApproved,\r\n  stake,\r\n  withdraw,\r\n  harvest,\r\n} from \"../../../../Utils/walletInteract\";\r\nimport {\r\n  SET_REWARD,\r\n  SET_TOTAL_LOCK,\r\n  SET_TOTAL_DEPOSITED,\r\n} from \"../../../../redux/actions\";\r\nexport const StakingSection = () => {\r\n  const [isDepositSection, setIsDepositSection] = useState(true);\r\n  const userReward = useSelector((state) => state.userReward);\r\n  const [userBalance, setUserBalance] = useState(0);\r\n  const [userDepositedBalance, setUserDepositedBalance] = useState(0);\r\n\r\n  const [sheebDepositAmount, setSheebDepositAmount] = useState(0);\r\n  const [currentUserReward, setCurrentUserReward] = useState(0);\r\n  const currentAddress = useSelector((state) => state.address);\r\n  const dispatch = useDispatch();\r\n\r\n  const loadContractData = async () => {\r\n    const _balance = await getUserBalance(currentAddress);\r\n    setUserBalance(_balance);\r\n    const _userDepositedBalance = await getUserDepositedBalance(currentAddress);\r\n    setUserDepositedBalance(_userDepositedBalance);\r\n    dispatch({ type: SET_TOTAL_DEPOSITED, payload: _userDepositedBalance });\r\n    const _totalLockedBalance = await getTotalLockedBalance();\r\n    dispatch({ type: SET_TOTAL_LOCK, payload: _totalLockedBalance });\r\n    const _userReward = await getReward(currentAddress);\r\n    setCurrentUserReward(_userReward);\r\n    dispatch({ type: SET_REWARD, payload: _userReward });\r\n  };\r\n  useEffect(() => {\r\n    if (currentAddress !== \"\") {\r\n      loadContractData();\r\n      console.log(`hi, ${currentAddress}`);\r\n      console.log(`hi, ${userBalance}`);\r\n      console.log(userDepositedBalance);\r\n    }\r\n  }, [currentAddress]);\r\n\r\n  return (\r\n    <div className=\"w-full lg:w-3/5 mb-10 lg:mb-20 flex flex-col lg:flex-row items-center justify-center gap-5 h-full w-full\">\r\n      <div className=\"flex-1 w-full h-5/6 flex flex-col gap-5\">\r\n        <GeneralInfo\r\n          isDepositSection={isDepositSection}\r\n          toggleDepositSection={(e) => setIsDepositSection(e)}\r\n        />\r\n        <GeneralDepositInfo />\r\n      </div>\r\n      <TotalLockedSection />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"oVAAA,mCACA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,kBAAkB,KAAQ,uBAAuB,CAC1D,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,kBAAkB,KAAQ,uBAAuB,CAC1D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,KAAQ,QAAQ,CAC/B,OACEC,OAAO,CACPC,SAAS,CACTC,qBAAqB,CACrBC,cAAc,CACdC,uBAAuB,CACvBC,UAAU,CACVC,KAAK,CACLC,QAAQ,CACRC,OAAO,KACF,kCAAkC,CACzC,OACEC,UAAU,CACVC,cAAc,CACdC,mBAAmB,KACd,2BAA2B,CAAC,wFACnC,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAClC,cAAgDpB,QAAQ,CAAC,IAAI,CAAC,wCAAvDqB,gBAAgB,eAAEC,mBAAmB,eAC5C,GAAMC,WAAU,CAAGjB,WAAW,CAAC,SAACkB,KAAK,QAAKA,MAAK,CAACD,UAAU,GAAC,CAC3D,eAAsCvB,QAAQ,CAAC,CAAC,CAAC,yCAA1CyB,WAAW,eAAEC,cAAc,eAClC,eAAwD1B,QAAQ,CAAC,CAAC,CAAC,yCAA5D2B,oBAAoB,eAAEC,uBAAuB,eAEpD,eAAoD5B,QAAQ,CAAC,CAAC,CAAC,yCAAxD6B,kBAAkB,eAAEC,qBAAqB,eAChD,eAAkD9B,QAAQ,CAAC,CAAC,CAAC,0CAAtD+B,iBAAiB,gBAAEC,oBAAoB,gBAC9C,GAAMC,eAAc,CAAG3B,WAAW,CAAC,SAACkB,KAAK,QAAKA,MAAK,CAACU,OAAO,GAAC,CAC5D,GAAMC,SAAQ,CAAG9B,WAAW,EAAE,CAE9B,GAAM+B,iBAAgB,0FAAG,4NACAzB,eAAc,CAACsB,cAAc,CAAC,QAA/CI,QAAQ,eACdX,cAAc,CAACW,QAAQ,CAAC,CAAC,sBACWzB,wBAAuB,CAACqB,cAAc,CAAC,QAArEK,qBAAqB,eAC3BV,uBAAuB,CAACU,qBAAqB,CAAC,CAC9CH,QAAQ,CAAC,CAAEI,IAAI,CAAEpB,mBAAmB,CAAEqB,OAAO,CAAEF,qBAAsB,CAAC,CAAC,CAAC,uBACtC5B,sBAAqB,EAAE,SAAnD+B,mBAAmB,eACzBN,QAAQ,CAAC,CAAEI,IAAI,CAAErB,cAAc,CAAEsB,OAAO,CAAEC,mBAAoB,CAAC,CAAC,CAAC,uBACvChC,UAAS,CAACwB,cAAc,CAAC,SAA7CS,WAAW,eACjBV,oBAAoB,CAACU,WAAW,CAAC,CACjCP,QAAQ,CAAC,CAAEI,IAAI,CAAEtB,UAAU,CAAEuB,OAAO,CAAEE,WAAY,CAAC,CAAC,CAAC,uDACtD,kBAXKN,iBAAgB,0CAWrB,CACDnC,SAAS,CAAC,UAAM,CACd,GAAIgC,cAAc,GAAK,EAAE,CAAE,CACzBG,gBAAgB,EAAE,CAClBO,OAAO,CAACC,GAAG,eAAQX,cAAc,EAAG,CACpCU,OAAO,CAACC,GAAG,eAAQnB,WAAW,EAAG,CACjCkB,OAAO,CAACC,GAAG,CAACjB,oBAAoB,CAAC,CACnC,CACF,CAAC,CAAE,CAACM,cAAc,CAAC,CAAC,CAEpB,mBACE,aAAK,SAAS,CAAC,0GAA0G,wBACvH,aAAK,SAAS,CAAC,yCAAyC,wBACtD,KAAC,WAAW,EACV,gBAAgB,CAAEZ,gBAAiB,CACnC,oBAAoB,CAAE,8BAACwB,CAAC,QAAKvB,oBAAmB,CAACuB,CAAC,CAAC,EAAC,EACpD,cACF,KAAC,kBAAkB,IAAG,GAClB,cACN,KAAC,kBAAkB,IAAG,GAClB,CAEV,CAAC"},"metadata":{},"sourceType":"module"}