{"ast":null,"code":"import _asyncToGenerator from \"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/jobStuff/hoichistakes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _regeneratorRuntime from \"D:\\\\jobStuff\\\\hoichistakes\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport WalletConnect from \"@walletconnect/client\";\nimport QRCodeModal from \"@walletconnect/qrcode-modal\";\nimport HttpConnection from \"@walletconnect/http-connection\";\nimport { payloadId, signingMethods, parsePersonalSign, getRpcUrl } from \"@walletconnect/utils\";\nvar ProviderEngine = require(\"web3-provider-engine\");\nvar CacheSubprovider = require(\"web3-provider-engine/subproviders/cache\");\nvar FixtureSubprovider = require(\"web3-provider-engine/subproviders/fixture\");\nvar FilterSubprovider = require(\"web3-provider-engine/subproviders/filters\");\nvar HookedWalletSubprovider = require(\"web3-provider-engine/subproviders/hooked-wallet\");\nvar NonceSubprovider = require(\"web3-provider-engine/subproviders/nonce-tracker\");\nvar SubscriptionsSubprovider = require(\"web3-provider-engine/subproviders/subscriptions\");\nvar WalletConnectProvider = /*#__PURE__*/function (_ProviderEngine) {\n  _inherits(WalletConnectProvider, _ProviderEngine);\n  var _super = _createSuper(WalletConnectProvider);\n  function WalletConnectProvider(opts) {\n    var _this;\n    _classCallCheck(this, WalletConnectProvider);\n    _this = _super.call(this, {\n      pollingInterval: opts.pollingInterval || 8000\n    });\n    _this.bridge = \"https://bridge.walletconnect.org\";\n    _this.qrcode = true;\n    _this.qrcodeModal = QRCodeModal;\n    _this.qrcodeModalOptions = undefined;\n    _this.rpc = null;\n    _this.infuraId = \"\";\n    _this.http = null;\n    _this.isConnecting = false;\n    _this.connected = false;\n    _this.connectCallbacks = [];\n    _this.accounts = [];\n    _this.chainId = 1;\n    _this.rpcUrl = \"\";\n    _this.enable = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var wc;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getWalletConnector();\n            case 2:\n              wc = _context.sent;\n              if (!wc) {\n                _context.next = 9;\n                break;\n              }\n              _this.start();\n              _this.subscribeWalletConnector();\n              return _context.abrupt(\"return\", wc.accounts);\n            case 9:\n              throw new Error(\"Failed to connect to WalleConnect\");\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.request = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(payload) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", _this.send(payload));\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    _this.send = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(payload, callback) {\n        var method, params;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(typeof payload === \"string\")) {\n                  _context3.next = 5;\n                  break;\n                }\n                method = payload;\n                params = callback;\n                if (method === \"personal_sign\") {\n                  params = parsePersonalSign(params);\n                }\n                return _context3.abrupt(\"return\", _this.sendAsyncPromise(method, params));\n              case 5:\n                payload = Object.assign({\n                  id: payloadId(),\n                  jsonrpc: \"2.0\"\n                }, payload);\n                if (payload.method === \"personal_sign\") {\n                  payload.params = parsePersonalSign(payload.params);\n                }\n                if (!callback) {\n                  _context3.next = 10;\n                  break;\n                }\n                _this.sendAsync(payload, callback);\n                return _context3.abrupt(\"return\");\n              case 10:\n                return _context3.abrupt(\"return\", _this.sendAsyncPromise(payload.method, payload.params));\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n      return function (_x2, _x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    _this.onConnect = function (callback) {\n      _this.connectCallbacks.push(callback);\n    };\n    _this.triggerConnect = function (result) {\n      if (_this.connectCallbacks && _this.connectCallbacks.length) {\n        _this.connectCallbacks.forEach(function (callback) {\n          return callback(result);\n        });\n      }\n    };\n    _this.bridge = opts.connector ? opts.connector.bridge : opts.bridge || \"https://bridge.walletconnect.org\";\n    _this.qrcode = typeof opts.qrcode === \"undefined\" || opts.qrcode !== false;\n    _this.qrcodeModal = opts.qrcodeModal || _this.qrcodeModal;\n    _this.qrcodeModalOptions = opts.qrcodeModalOptions;\n    _this.wc = opts.connector || new WalletConnect({\n      bridge: _this.bridge,\n      qrcodeModal: _this.qrcode ? _this.qrcodeModal : undefined,\n      qrcodeModalOptions: _this.qrcodeModalOptions,\n      storageId: opts === null || opts === void 0 ? void 0 : opts.storageId,\n      signingMethods: opts === null || opts === void 0 ? void 0 : opts.signingMethods,\n      clientMeta: opts === null || opts === void 0 ? void 0 : opts.clientMeta\n    });\n    _this.rpc = opts.rpc || null;\n    if (!_this.rpc && (!opts.infuraId || typeof opts.infuraId !== \"string\" || !opts.infuraId.trim())) {\n      throw new Error(\"Missing one of the required parameters: rpc or infuraId\");\n    }\n    _this.infuraId = opts.infuraId || \"\";\n    _this.chainId = (opts === null || opts === void 0 ? void 0 : opts.chainId) || _this.chainId;\n    _this.initialize();\n    return _this;\n  }\n  _createClass(WalletConnectProvider, [{\n    key: \"isWalletConnect\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"connector\",\n    get: function get() {\n      return this.wc;\n    }\n  }, {\n    key: \"walletMeta\",\n    get: function get() {\n      return this.wc.peerMeta;\n    }\n  }, {\n    key: \"disconnect\",\n    value: function () {\n      var _disconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.close();\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function disconnect() {\n        return _disconnect.apply(this, arguments);\n      }\n      return disconnect;\n    }()\n  }, {\n    key: \"close\",\n    value: function () {\n      var _close = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var wc;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getWalletConnector({\n                  disableSessionCreation: true\n                });\n              case 2:\n                wc = _context5.sent;\n                _context5.next = 5;\n                return wc.killSession();\n              case 5:\n                _context5.next = 7;\n                return this.onDisconnect();\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      function close() {\n        return _close.apply(this, arguments);\n      }\n      return close;\n    }()\n  }, {\n    key: \"handleRequest\",\n    value: function () {\n      var _handleRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(payload) {\n        var response, result, wc;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                result = null;\n                _context6.next = 4;\n                return this.getWalletConnector();\n              case 4:\n                wc = _context6.sent;\n                _context6.t0 = payload.method;\n                _context6.next = _context6.t0 === \"wc_killSession\" ? 8 : _context6.t0 === \"eth_accounts\" ? 12 : _context6.t0 === \"eth_coinbase\" ? 14 : _context6.t0 === \"eth_chainId\" ? 16 : _context6.t0 === \"net_version\" ? 18 : _context6.t0 === \"eth_uninstallFilter\" ? 20 : 23;\n                break;\n              case 8:\n                _context6.next = 10;\n                return this.close();\n              case 10:\n                result = null;\n                return _context6.abrupt(\"break\", 26);\n              case 12:\n                result = wc.accounts;\n                return _context6.abrupt(\"break\", 26);\n              case 14:\n                result = wc.accounts[0];\n                return _context6.abrupt(\"break\", 26);\n              case 16:\n                result = wc.chainId;\n                return _context6.abrupt(\"break\", 26);\n              case 18:\n                result = wc.chainId;\n                return _context6.abrupt(\"break\", 26);\n              case 20:\n                this.sendAsync(payload, function (_) {\n                  return _;\n                });\n                result = true;\n                return _context6.abrupt(\"break\", 26);\n              case 23:\n                _context6.next = 25;\n                return this.handleOtherRequests(payload);\n              case 25:\n                response = _context6.sent;\n              case 26:\n                if (!response) {\n                  _context6.next = 28;\n                  break;\n                }\n                return _context6.abrupt(\"return\", response);\n              case 28:\n                return _context6.abrupt(\"return\", this.formatResponse(payload, result));\n              case 31:\n                _context6.prev = 31;\n                _context6.t1 = _context6[\"catch\"](0);\n                this.emit(\"error\", _context6.t1);\n                throw _context6.t1;\n              case 35:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 31]]);\n      }));\n      function handleRequest(_x4) {\n        return _handleRequest.apply(this, arguments);\n      }\n      return handleRequest;\n    }()\n  }, {\n    key: \"handleOtherRequests\",\n    value: function () {\n      var _handleOtherRequests = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(payload) {\n        var wc, result;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(!signingMethods.includes(payload.method) && payload.method.startsWith(\"eth_\"))) {\n                  _context7.next = 2;\n                  break;\n                }\n                return _context7.abrupt(\"return\", this.handleReadRequests(payload));\n              case 2:\n                _context7.next = 4;\n                return this.getWalletConnector();\n              case 4:\n                wc = _context7.sent;\n                _context7.next = 7;\n                return wc.sendCustomRequest(payload);\n              case 7:\n                result = _context7.sent;\n                return _context7.abrupt(\"return\", this.formatResponse(payload, result));\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n      function handleOtherRequests(_x5) {\n        return _handleOtherRequests.apply(this, arguments);\n      }\n      return handleOtherRequests;\n    }()\n  }, {\n    key: \"handleReadRequests\",\n    value: function () {\n      var _handleReadRequests = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(payload) {\n        var error;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this.http) {\n                  _context8.next = 4;\n                  break;\n                }\n                error = new Error(\"HTTP Connection not available\");\n                this.emit(\"error\", error);\n                throw error;\n              case 4:\n                return _context8.abrupt(\"return\", this.http.send(payload));\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n      function handleReadRequests(_x6) {\n        return _handleReadRequests.apply(this, arguments);\n      }\n      return handleReadRequests;\n    }()\n  }, {\n    key: \"formatResponse\",\n    value: function formatResponse(payload, result) {\n      return {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      };\n    }\n  }, {\n    key: \"getWalletConnector\",\n    value: function getWalletConnector() {\n      var _this2 = this;\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _opts$disableSessionC = opts.disableSessionCreation,\n        disableSessionCreation = _opts$disableSessionC === void 0 ? false : _opts$disableSessionC;\n      return new Promise(function (resolve, reject) {\n        var wc = _this2.wc;\n        if (_this2.isConnecting) {\n          _this2.onConnect(function (x) {\n            return resolve(x);\n          });\n        } else if (!wc.connected && !disableSessionCreation) {\n          _this2.isConnecting = true;\n          wc.on(\"modal_closed\", function () {\n            reject(new Error(\"User closed modal\"));\n          });\n          wc.createSession({\n            chainId: _this2.chainId\n          }).then(function () {\n            wc.on(\"connect\", function (error, payload) {\n              if (error) {\n                _this2.isConnecting = false;\n                return reject(error);\n              }\n              _this2.isConnecting = false;\n              _this2.connected = true;\n              if (payload) {\n                _this2.updateState(payload.params[0]);\n              }\n              _this2.emit(\"connect\");\n              _this2.triggerConnect(wc);\n              resolve(wc);\n            });\n          }).catch(function (error) {\n            _this2.isConnecting = false;\n            reject(error);\n          });\n        } else {\n          if (!_this2.connected) {\n            _this2.connected = true;\n            _this2.updateState(wc.session);\n          }\n          resolve(wc);\n        }\n      });\n    }\n  }, {\n    key: \"subscribeWalletConnector\",\n    value: function () {\n      var _subscribeWalletConnector = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        var _this3 = this;\n        var wc;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.getWalletConnector();\n              case 2:\n                wc = _context9.sent;\n                wc.on(\"disconnect\", function (error) {\n                  if (error) {\n                    _this3.emit(\"error\", error);\n                    return;\n                  }\n                  _this3.onDisconnect();\n                });\n                wc.on(\"session_update\", function (error, payload) {\n                  if (error) {\n                    _this3.emit(\"error\", error);\n                    return;\n                  }\n                  _this3.updateState(payload.params[0]);\n                });\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n      function subscribeWalletConnector() {\n        return _subscribeWalletConnector.apply(this, arguments);\n      }\n      return subscribeWalletConnector;\n    }()\n  }, {\n    key: \"onDisconnect\",\n    value: function () {\n      var _onDisconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this.stop();\n              case 2:\n                this.emit(\"close\", 1000, \"Connection closed\");\n                this.emit(\"disconnect\", 1000, \"Connection disconnected\");\n                this.connected = false;\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n      function onDisconnect() {\n        return _onDisconnect.apply(this, arguments);\n      }\n      return onDisconnect;\n    }()\n  }, {\n    key: \"updateState\",\n    value: function () {\n      var _updateState = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(sessionParams) {\n        var accounts, chainId, networkId, rpcUrl;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                accounts = sessionParams.accounts, chainId = sessionParams.chainId, networkId = sessionParams.networkId, rpcUrl = sessionParams.rpcUrl;\n                if (!this.accounts || accounts && this.accounts !== accounts) {\n                  this.accounts = accounts;\n                  this.emit(\"accountsChanged\", accounts);\n                }\n                if (!this.chainId || chainId && this.chainId !== chainId) {\n                  this.chainId = chainId;\n                  this.emit(\"chainChanged\", chainId);\n                }\n                if (!this.networkId || networkId && this.networkId !== networkId) {\n                  this.networkId = networkId;\n                  this.emit(\"networkChanged\", networkId);\n                }\n                this.updateRpcUrl(this.chainId, rpcUrl || \"\");\n              case 5:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n      function updateState(_x7) {\n        return _updateState.apply(this, arguments);\n      }\n      return updateState;\n    }()\n  }, {\n    key: \"updateRpcUrl\",\n    value: function updateRpcUrl(chainId) {\n      var rpcUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      var rpc = {\n        infuraId: this.infuraId,\n        custom: this.rpc || undefined\n      };\n      rpcUrl = rpcUrl || getRpcUrl(chainId, rpc);\n      if (rpcUrl) {\n        this.rpcUrl = rpcUrl;\n        this.updateHttpConnection();\n      } else {\n        this.emit(\"error\", new Error(\"No RPC Url available for chainId: \".concat(chainId)));\n      }\n    }\n  }, {\n    key: \"updateHttpConnection\",\n    value: function updateHttpConnection() {\n      var _this4 = this;\n      if (this.rpcUrl) {\n        this.http = new HttpConnection(this.rpcUrl);\n        this.http.on(\"payload\", function (payload) {\n          return _this4.emit(\"payload\", payload);\n        });\n        this.http.on(\"error\", function (error) {\n          return _this4.emit(\"error\", error);\n        });\n      }\n    }\n  }, {\n    key: \"sendAsyncPromise\",\n    value: function sendAsyncPromise(method, params) {\n      var _this5 = this;\n      return new Promise(function (resolve, reject) {\n        _this5.sendAsync({\n          id: payloadId(),\n          jsonrpc: \"2.0\",\n          method: method,\n          params: params || []\n        }, function (error, response) {\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(response.result);\n        });\n      });\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this6 = this;\n      this.updateRpcUrl(this.chainId);\n      this.addProvider(new FixtureSubprovider({\n        eth_hashrate: \"0x00\",\n        eth_mining: false,\n        eth_syncing: true,\n        net_listening: true,\n        web3_clientVersion: \"WalletConnect/v1.x.x/javascript\"\n      }));\n      this.addProvider(new CacheSubprovider());\n      this.addProvider(new SubscriptionsSubprovider());\n      this.addProvider(new FilterSubprovider());\n      this.addProvider(new NonceSubprovider());\n      this.addProvider(new HookedWalletSubprovider(this.configWallet()));\n      this.addProvider({\n        handleRequest: function () {\n          var _handleRequest2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(payload, next, end) {\n            var _yield$_this6$handleR, error, result;\n            return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n              while (1) {\n                switch (_context12.prev = _context12.next) {\n                  case 0:\n                    _context12.prev = 0;\n                    _context12.next = 3;\n                    return _this6.handleRequest(payload);\n                  case 3:\n                    _yield$_this6$handleR = _context12.sent;\n                    error = _yield$_this6$handleR.error;\n                    result = _yield$_this6$handleR.result;\n                    end(error, result);\n                    _context12.next = 12;\n                    break;\n                  case 9:\n                    _context12.prev = 9;\n                    _context12.t0 = _context12[\"catch\"](0);\n                    end(_context12.t0);\n                  case 12:\n                  case \"end\":\n                    return _context12.stop();\n                }\n              }\n            }, _callee12, null, [[0, 9]]);\n          }));\n          function handleRequest(_x8, _x9, _x10) {\n            return _handleRequest2.apply(this, arguments);\n          }\n          return handleRequest;\n        }(),\n        setEngine: function setEngine(_) {\n          return _;\n        }\n      });\n    }\n  }, {\n    key: \"configWallet\",\n    value: function configWallet() {\n      var _this7 = this;\n      return {\n        getAccounts: function () {\n          var _getAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(cb) {\n            var wc, accounts;\n            return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n              while (1) {\n                switch (_context13.prev = _context13.next) {\n                  case 0:\n                    _context13.prev = 0;\n                    _context13.next = 3;\n                    return _this7.getWalletConnector();\n                  case 3:\n                    wc = _context13.sent;\n                    accounts = wc.accounts;\n                    if (accounts && accounts.length) {\n                      cb(null, accounts);\n                    } else {\n                      cb(new Error(\"Failed to get accounts\"));\n                    }\n                    _context13.next = 11;\n                    break;\n                  case 8:\n                    _context13.prev = 8;\n                    _context13.t0 = _context13[\"catch\"](0);\n                    cb(_context13.t0);\n                  case 11:\n                  case \"end\":\n                    return _context13.stop();\n                }\n              }\n            }, _callee13, null, [[0, 8]]);\n          }));\n          function getAccounts(_x11) {\n            return _getAccounts.apply(this, arguments);\n          }\n          return getAccounts;\n        }(),\n        processMessage: function () {\n          var _processMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(msgParams, cb) {\n            var wc, result;\n            return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n              while (1) {\n                switch (_context14.prev = _context14.next) {\n                  case 0:\n                    _context14.prev = 0;\n                    _context14.next = 3;\n                    return _this7.getWalletConnector();\n                  case 3:\n                    wc = _context14.sent;\n                    _context14.next = 6;\n                    return wc.signMessage([msgParams.from, msgParams.data]);\n                  case 6:\n                    result = _context14.sent;\n                    cb(null, result);\n                    _context14.next = 13;\n                    break;\n                  case 10:\n                    _context14.prev = 10;\n                    _context14.t0 = _context14[\"catch\"](0);\n                    cb(_context14.t0);\n                  case 13:\n                  case \"end\":\n                    return _context14.stop();\n                }\n              }\n            }, _callee14, null, [[0, 10]]);\n          }));\n          function processMessage(_x12, _x13) {\n            return _processMessage.apply(this, arguments);\n          }\n          return processMessage;\n        }(),\n        processPersonalMessage: function () {\n          var _processPersonalMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(msgParams, cb) {\n            var wc, result;\n            return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n              while (1) {\n                switch (_context15.prev = _context15.next) {\n                  case 0:\n                    _context15.prev = 0;\n                    _context15.next = 3;\n                    return _this7.getWalletConnector();\n                  case 3:\n                    wc = _context15.sent;\n                    _context15.next = 6;\n                    return wc.signPersonalMessage([msgParams.data, msgParams.from]);\n                  case 6:\n                    result = _context15.sent;\n                    cb(null, result);\n                    _context15.next = 13;\n                    break;\n                  case 10:\n                    _context15.prev = 10;\n                    _context15.t0 = _context15[\"catch\"](0);\n                    cb(_context15.t0);\n                  case 13:\n                  case \"end\":\n                    return _context15.stop();\n                }\n              }\n            }, _callee15, null, [[0, 10]]);\n          }));\n          function processPersonalMessage(_x14, _x15) {\n            return _processPersonalMessage.apply(this, arguments);\n          }\n          return processPersonalMessage;\n        }(),\n        processSignTransaction: function () {\n          var _processSignTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(txParams, cb) {\n            var wc, result;\n            return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n              while (1) {\n                switch (_context16.prev = _context16.next) {\n                  case 0:\n                    _context16.prev = 0;\n                    _context16.next = 3;\n                    return _this7.getWalletConnector();\n                  case 3:\n                    wc = _context16.sent;\n                    _context16.next = 6;\n                    return wc.signTransaction(txParams);\n                  case 6:\n                    result = _context16.sent;\n                    cb(null, result);\n                    _context16.next = 13;\n                    break;\n                  case 10:\n                    _context16.prev = 10;\n                    _context16.t0 = _context16[\"catch\"](0);\n                    cb(_context16.t0);\n                  case 13:\n                  case \"end\":\n                    return _context16.stop();\n                }\n              }\n            }, _callee16, null, [[0, 10]]);\n          }));\n          function processSignTransaction(_x16, _x17) {\n            return _processSignTransaction.apply(this, arguments);\n          }\n          return processSignTransaction;\n        }(),\n        processTransaction: function () {\n          var _processTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(txParams, cb) {\n            var wc, result;\n            return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n              while (1) {\n                switch (_context17.prev = _context17.next) {\n                  case 0:\n                    _context17.prev = 0;\n                    _context17.next = 3;\n                    return _this7.getWalletConnector();\n                  case 3:\n                    wc = _context17.sent;\n                    _context17.next = 6;\n                    return wc.sendTransaction(txParams);\n                  case 6:\n                    result = _context17.sent;\n                    cb(null, result);\n                    _context17.next = 13;\n                    break;\n                  case 10:\n                    _context17.prev = 10;\n                    _context17.t0 = _context17[\"catch\"](0);\n                    cb(_context17.t0);\n                  case 13:\n                  case \"end\":\n                    return _context17.stop();\n                }\n              }\n            }, _callee17, null, [[0, 10]]);\n          }));\n          function processTransaction(_x18, _x19) {\n            return _processTransaction.apply(this, arguments);\n          }\n          return processTransaction;\n        }(),\n        processTypedMessage: function () {\n          var _processTypedMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(msgParams, cb) {\n            var wc, result;\n            return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n              while (1) {\n                switch (_context18.prev = _context18.next) {\n                  case 0:\n                    _context18.prev = 0;\n                    _context18.next = 3;\n                    return _this7.getWalletConnector();\n                  case 3:\n                    wc = _context18.sent;\n                    _context18.next = 6;\n                    return wc.signTypedData([msgParams.from, msgParams.data]);\n                  case 6:\n                    result = _context18.sent;\n                    cb(null, result);\n                    _context18.next = 13;\n                    break;\n                  case 10:\n                    _context18.prev = 10;\n                    _context18.t0 = _context18[\"catch\"](0);\n                    cb(_context18.t0);\n                  case 13:\n                  case \"end\":\n                    return _context18.stop();\n                }\n              }\n            }, _callee18, null, [[0, 10]]);\n          }));\n          function processTypedMessage(_x20, _x21) {\n            return _processTypedMessage.apply(this, arguments);\n          }\n          return processTypedMessage;\n        }()\n      };\n    }\n  }]);\n  return WalletConnectProvider;\n}(ProviderEngine);\nexport default WalletConnectProvider;","map":{"version":3,"sources":["../../src/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import WalletConnect from \"@walletconnect/client\";\nimport QRCodeModal from \"@walletconnect/qrcode-modal\";\nimport HttpConnection from \"@walletconnect/http-connection\";\nimport { payloadId, signingMethods, parsePersonalSign, getRpcUrl } from \"@walletconnect/utils\";\nconst ProviderEngine = require(\"web3-provider-engine\");\nconst CacheSubprovider = require(\"web3-provider-engine/subproviders/cache\");\nconst FixtureSubprovider = require(\"web3-provider-engine/subproviders/fixture\");\nconst FilterSubprovider = require(\"web3-provider-engine/subproviders/filters\");\nconst HookedWalletSubprovider = require(\"web3-provider-engine/subproviders/hooked-wallet\");\nconst NonceSubprovider = require(\"web3-provider-engine/subproviders/nonce-tracker\");\nconst SubscriptionsSubprovider = require(\"web3-provider-engine/subproviders/subscriptions\");\nclass WalletConnectProvider extends ProviderEngine {\n    constructor(opts) {\n        super({ pollingInterval: opts.pollingInterval || 8000 });\n        this.bridge = \"https://bridge.walletconnect.org\";\n        this.qrcode = true;\n        this.qrcodeModal = QRCodeModal;\n        this.qrcodeModalOptions = undefined;\n        this.rpc = null;\n        this.infuraId = \"\";\n        this.http = null;\n        this.isConnecting = false;\n        this.connected = false;\n        this.connectCallbacks = [];\n        this.accounts = [];\n        this.chainId = 1;\n        this.rpcUrl = \"\";\n        this.enable = async () => {\n            const wc = await this.getWalletConnector();\n            if (wc) {\n                this.start();\n                this.subscribeWalletConnector();\n                return wc.accounts;\n            }\n            else {\n                throw new Error(\"Failed to connect to WalleConnect\");\n            }\n        };\n        this.request = async (payload) => {\n            return this.send(payload);\n        };\n        this.send = async (payload, callback) => {\n            if (typeof payload === \"string\") {\n                const method = payload;\n                let params = callback;\n                if (method === \"personal_sign\") {\n                    params = parsePersonalSign(params);\n                }\n                return this.sendAsyncPromise(method, params);\n            }\n            payload = Object.assign({ id: payloadId(), jsonrpc: \"2.0\" }, payload);\n            if (payload.method === \"personal_sign\") {\n                payload.params = parsePersonalSign(payload.params);\n            }\n            if (callback) {\n                this.sendAsync(payload, callback);\n                return;\n            }\n            return this.sendAsyncPromise(payload.method, payload.params);\n        };\n        this.onConnect = (callback) => {\n            this.connectCallbacks.push(callback);\n        };\n        this.triggerConnect = (result) => {\n            if (this.connectCallbacks && this.connectCallbacks.length) {\n                this.connectCallbacks.forEach(callback => callback(result));\n            }\n        };\n        this.bridge = opts.connector\n            ? opts.connector.bridge\n            : opts.bridge || \"https://bridge.walletconnect.org\";\n        this.qrcode = typeof opts.qrcode === \"undefined\" || opts.qrcode !== false;\n        this.qrcodeModal = opts.qrcodeModal || this.qrcodeModal;\n        this.qrcodeModalOptions = opts.qrcodeModalOptions;\n        this.wc =\n            opts.connector ||\n                new WalletConnect({\n                    bridge: this.bridge,\n                    qrcodeModal: this.qrcode ? this.qrcodeModal : undefined,\n                    qrcodeModalOptions: this.qrcodeModalOptions,\n                    storageId: opts === null || opts === void 0 ? void 0 : opts.storageId,\n                    signingMethods: opts === null || opts === void 0 ? void 0 : opts.signingMethods,\n                    clientMeta: opts === null || opts === void 0 ? void 0 : opts.clientMeta,\n                });\n        this.rpc = opts.rpc || null;\n        if (!this.rpc &&\n            (!opts.infuraId || typeof opts.infuraId !== \"string\" || !opts.infuraId.trim())) {\n            throw new Error(\"Missing one of the required parameters: rpc or infuraId\");\n        }\n        this.infuraId = opts.infuraId || \"\";\n        this.chainId = (opts === null || opts === void 0 ? void 0 : opts.chainId) || this.chainId;\n        this.initialize();\n    }\n    get isWalletConnect() {\n        return true;\n    }\n    get connector() {\n        return this.wc;\n    }\n    get walletMeta() {\n        return this.wc.peerMeta;\n    }\n    async disconnect() {\n        this.close();\n    }\n    async close() {\n        const wc = await this.getWalletConnector({ disableSessionCreation: true });\n        await wc.killSession();\n        await this.onDisconnect();\n    }\n    async handleRequest(payload) {\n        try {\n            let response;\n            let result = null;\n            const wc = await this.getWalletConnector();\n            switch (payload.method) {\n                case \"wc_killSession\":\n                    await this.close();\n                    result = null;\n                    break;\n                case \"eth_accounts\":\n                    result = wc.accounts;\n                    break;\n                case \"eth_coinbase\":\n                    result = wc.accounts[0];\n                    break;\n                case \"eth_chainId\":\n                    result = wc.chainId;\n                    break;\n                case \"net_version\":\n                    result = wc.chainId;\n                    break;\n                case \"eth_uninstallFilter\":\n                    this.sendAsync(payload, (_) => _);\n                    result = true;\n                    break;\n                default:\n                    response = await this.handleOtherRequests(payload);\n            }\n            if (response) {\n                return response;\n            }\n            return this.formatResponse(payload, result);\n        }\n        catch (error) {\n            this.emit(\"error\", error);\n            throw error;\n        }\n    }\n    async handleOtherRequests(payload) {\n        if (!signingMethods.includes(payload.method) && payload.method.startsWith(\"eth_\")) {\n            return this.handleReadRequests(payload);\n        }\n        const wc = await this.getWalletConnector();\n        const result = await wc.sendCustomRequest(payload);\n        return this.formatResponse(payload, result);\n    }\n    async handleReadRequests(payload) {\n        if (!this.http) {\n            const error = new Error(\"HTTP Connection not available\");\n            this.emit(\"error\", error);\n            throw error;\n        }\n        return this.http.send(payload);\n    }\n    formatResponse(payload, result) {\n        return {\n            id: payload.id,\n            jsonrpc: payload.jsonrpc,\n            result: result,\n        };\n    }\n    getWalletConnector(opts = {}) {\n        const { disableSessionCreation = false } = opts;\n        return new Promise((resolve, reject) => {\n            const wc = this.wc;\n            if (this.isConnecting) {\n                this.onConnect((x) => resolve(x));\n            }\n            else if (!wc.connected && !disableSessionCreation) {\n                this.isConnecting = true;\n                wc.on(\"modal_closed\", () => {\n                    reject(new Error(\"User closed modal\"));\n                });\n                wc.createSession({ chainId: this.chainId })\n                    .then(() => {\n                    wc.on(\"connect\", (error, payload) => {\n                        if (error) {\n                            this.isConnecting = false;\n                            return reject(error);\n                        }\n                        this.isConnecting = false;\n                        this.connected = true;\n                        if (payload) {\n                            this.updateState(payload.params[0]);\n                        }\n                        this.emit(\"connect\");\n                        this.triggerConnect(wc);\n                        resolve(wc);\n                    });\n                })\n                    .catch(error => {\n                    this.isConnecting = false;\n                    reject(error);\n                });\n            }\n            else {\n                if (!this.connected) {\n                    this.connected = true;\n                    this.updateState(wc.session);\n                }\n                resolve(wc);\n            }\n        });\n    }\n    async subscribeWalletConnector() {\n        const wc = await this.getWalletConnector();\n        wc.on(\"disconnect\", error => {\n            if (error) {\n                this.emit(\"error\", error);\n                return;\n            }\n            this.onDisconnect();\n        });\n        wc.on(\"session_update\", (error, payload) => {\n            if (error) {\n                this.emit(\"error\", error);\n                return;\n            }\n            this.updateState(payload.params[0]);\n        });\n    }\n    async onDisconnect() {\n        await this.stop();\n        this.emit(\"close\", 1000, \"Connection closed\");\n        this.emit(\"disconnect\", 1000, \"Connection disconnected\");\n        this.connected = false;\n    }\n    async updateState(sessionParams) {\n        const { accounts, chainId, networkId, rpcUrl } = sessionParams;\n        if (!this.accounts || (accounts && this.accounts !== accounts)) {\n            this.accounts = accounts;\n            this.emit(\"accountsChanged\", accounts);\n        }\n        if (!this.chainId || (chainId && this.chainId !== chainId)) {\n            this.chainId = chainId;\n            this.emit(\"chainChanged\", chainId);\n        }\n        if (!this.networkId || (networkId && this.networkId !== networkId)) {\n            this.networkId = networkId;\n            this.emit(\"networkChanged\", networkId);\n        }\n        this.updateRpcUrl(this.chainId, rpcUrl || \"\");\n    }\n    updateRpcUrl(chainId, rpcUrl = \"\") {\n        const rpc = { infuraId: this.infuraId, custom: this.rpc || undefined };\n        rpcUrl = rpcUrl || getRpcUrl(chainId, rpc);\n        if (rpcUrl) {\n            this.rpcUrl = rpcUrl;\n            this.updateHttpConnection();\n        }\n        else {\n            this.emit(\"error\", new Error(`No RPC Url available for chainId: ${chainId}`));\n        }\n    }\n    updateHttpConnection() {\n        if (this.rpcUrl) {\n            this.http = new HttpConnection(this.rpcUrl);\n            this.http.on(\"payload\", payload => this.emit(\"payload\", payload));\n            this.http.on(\"error\", error => this.emit(\"error\", error));\n        }\n    }\n    sendAsyncPromise(method, params) {\n        return new Promise((resolve, reject) => {\n            this.sendAsync({\n                id: payloadId(),\n                jsonrpc: \"2.0\",\n                method,\n                params: params || [],\n            }, (error, response) => {\n                if (error) {\n                    reject(error);\n                    return;\n                }\n                resolve(response.result);\n            });\n        });\n    }\n    initialize() {\n        this.updateRpcUrl(this.chainId);\n        this.addProvider(new FixtureSubprovider({\n            eth_hashrate: \"0x00\",\n            eth_mining: false,\n            eth_syncing: true,\n            net_listening: true,\n            web3_clientVersion: `WalletConnect/v1.x.x/javascript`,\n        }));\n        this.addProvider(new CacheSubprovider());\n        this.addProvider(new SubscriptionsSubprovider());\n        this.addProvider(new FilterSubprovider());\n        this.addProvider(new NonceSubprovider());\n        this.addProvider(new HookedWalletSubprovider(this.configWallet()));\n        this.addProvider({\n            handleRequest: async (payload, next, end) => {\n                try {\n                    const { error, result } = await this.handleRequest(payload);\n                    end(error, result);\n                }\n                catch (error) {\n                    end(error);\n                }\n            },\n            setEngine: (_) => _,\n        });\n    }\n    configWallet() {\n        return {\n            getAccounts: async (cb) => {\n                try {\n                    const wc = await this.getWalletConnector();\n                    const accounts = wc.accounts;\n                    if (accounts && accounts.length) {\n                        cb(null, accounts);\n                    }\n                    else {\n                        cb(new Error(\"Failed to get accounts\"));\n                    }\n                }\n                catch (error) {\n                    cb(error);\n                }\n            },\n            processMessage: async (msgParams, cb) => {\n                try {\n                    const wc = await this.getWalletConnector();\n                    const result = await wc.signMessage([msgParams.from, msgParams.data]);\n                    cb(null, result);\n                }\n                catch (error) {\n                    cb(error);\n                }\n            },\n            processPersonalMessage: async (msgParams, cb) => {\n                try {\n                    const wc = await this.getWalletConnector();\n                    const result = await wc.signPersonalMessage([msgParams.data, msgParams.from]);\n                    cb(null, result);\n                }\n                catch (error) {\n                    cb(error);\n                }\n            },\n            processSignTransaction: async (txParams, cb) => {\n                try {\n                    const wc = await this.getWalletConnector();\n                    const result = await wc.signTransaction(txParams);\n                    cb(null, result);\n                }\n                catch (error) {\n                    cb(error);\n                }\n            },\n            processTransaction: async (txParams, cb) => {\n                try {\n                    const wc = await this.getWalletConnector();\n                    const result = await wc.sendTransaction(txParams);\n                    cb(null, result);\n                }\n                catch (error) {\n                    cb(error);\n                }\n            },\n            processTypedMessage: async (msgParams, cb) => {\n                try {\n                    const wc = await this.getWalletConnector();\n                    const result = await wc.signTypedData([msgParams.from, msgParams.data]);\n                    cb(null, result);\n                }\n                catch (error) {\n                    cb(error);\n                }\n            },\n        };\n    }\n}\nexport default WalletConnectProvider;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}